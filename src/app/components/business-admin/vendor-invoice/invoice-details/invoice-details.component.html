<div class="container-fluid px-0 overflow-hidden">
    <div class="form-div">
        <div class="headdiv">
            <div class="heading d-flex align-items-center">
                <button type="button" class="btn p-1 d-flex align-items-center justify-content-center shadow-none"
                    routerLink="/business-admin/vendor-invoice">
                    <mat-icon>chevron_left</mat-icon>
                </button>
                <h1>Invoices</h1>
            </div>
        </div>
        <div class="mt-3 section-div ">
            <div>
                <h2>Invoice Details</h2>
            </div>
            <div class="px-3">
                <div class="row">
                    <div class="col-lg-2 col-md-4 mb-3">
                        <div class="order-head">Purchase Order No</div>
                        <div class="order-data">01</div>
                    </div>
                    <div class="col-lg-2 col-md-4 mb-3">
                        <div class="order-head">Employee Name</div>
                        <div class="order-data">Dexter Stevens</div>
                    </div>
                    <div class="col-lg-2 col-md-4 mb-3">
                        <div class="order-head">Vendor Name</div>
                        <div class="order-data">Brandon Lee</div>
                    </div>
                    <div class="col-lg-2 col-md-4 mb-3">
                        <div class="order-head">Requested Date</div>
                        <div class="order-data">25th Jan, 2027</div>
                    </div>
                    <div class="col-lg-2 col-md-4 mb-3">
                        <div class="order-head">Received Date</div>
                        <div class="order-data">25th Jan, 2027</div>
                    </div>
                    <div class="col-lg-2 col-md-4 mb-3">
                        <div class="order-head">Total Amount</div>
                        <div class="order-data">25th Jan, 2027</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-3 section-div">
            <div>
                <h2>Items Purchased </h2>
            </div>
            <div class="table-container p-2">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="thead-dark ">
                            <tr>
                                <th scope="col" class="one">
                                    <div class="table-data">
                                        <div class="d-flex gap-2 align-items-center">
                                            <input class="form-check-input"
                                             type="checkbox" 
                                             value="" 
                                             *ngIf="showDisputeOptions" 
                                             [(ngModel)]="masterCheckboxChecked" 
                                             (change)="toggleAllCheckboxes($event)"
                                             id="flexCheckChecked" >
                                            <div>
                                              No
                                            </div>
                                          </div>
                                    </div>
                                </th>
                                <th scope="col">
                                    <div class="table-data">
                                        Item Name
                                    </div>
                                </th>
                                <th scope="col">
                                    <div class="table-data">
                                        Order Quantity
                                    </div>
                                </th>
                                <th scope="col">
                                    <div class="table-data">
                                        Item Price Per unit
                                    </div>
                                </th>
                                <th scope="col" class="two">
                                    <div class="table-data">
                                       Price
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of purchasedItems; let i = index">
                                <td>
                                    <div class="table-data">
                                        <div class="d-flex gap-2 align-items-center">
                                            <input 
                                                class="form-check-input" 
                                                type="checkbox" 
                                                *ngIf="showDisputeOptions" 
                                                [(ngModel)]="item.checked">
                                            <div>{{ i + 1 }}</div>
                                        </div>
                                    </div>
                                </td>
                                <td><div class="table-data">{{ item.name }}</div></td>
                                <td><div class="table-data">{{ item.quantity }}</div></td>
                                <td><div class="table-data">{{ item.unitPrice | currency }}</div></td>
                                <td><div class="table-data">{{ item.price | currency }}</div></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-end p-3" style="font-size: 18px;">
                        <div style="font-weight: 500;">Subtotal:</div> &nbsp; {{ subtotal | currency }}
                    </div>
                </div>
                <div class="input-div input-div-no-pad my-3" *ngIf="showDisputeOptions">
                    <label for="">Reason for Dispute:</label>
                    <input type="text" class="form-control" placeholder="Enter reason to file dispute">
                </div>
            </div>
        </div>
        <div class="d-flex gap-2 justify-content-end my-2">
            <button class="btn add-btn" *ngIf="!showDisputeOptions">Settle Up</button>
            <button class="btn close" *ngIf="!showDisputeOptions" (click)="openDispute()">Open Dispute</button>
            <button class="btn close" *ngIf="showDisputeOptions">File Dispute</button>
            <button class="btn cancel-btn" *ngIf="showDisputeOptions" (click)="cancelDispute()">Cancel</button>
        </div>
    </div>
</div>