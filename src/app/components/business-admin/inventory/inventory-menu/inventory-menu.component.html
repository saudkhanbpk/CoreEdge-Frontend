<div class=" memu-div">
  <div class="headdiv ">
    <div class="heading">
      <h1>Inventory </h1>
    </div>
    <div class="secondary-row">
      <div class="input-group">
        <input type="text" class="form-control input-group-form-control" [(ngModel)]="searchTerm"
          placeholder="Search inventory" aria-label="Quick Search">
        <button class="btn search-order-btn" type="button" id="button-addon2" (click)="searchTerm = ''">
          <mat-icon>search</mat-icon>
        </button>
      </div>
      <div>
        <button class="btn add-btn" routerLink="/business-admin/inventory/inventory-form">Add New Inventory <img
            src="../../../../../../assets/icons/Plus.png" alt=""></button>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-between align-items-center my-3">
    <div></div>
    <div class="view d-flex gap-2 align-items-center ">
      <div></div>
      <div>
        <div class="view-div">
          <button class="btn view-btn" (click)="setView('listview')" aria-label="Switch to list view"
            matTooltip="List View" [ngClass]="{'active': selectedView === 'listview'}">
            <mat-icon>view_list</mat-icon>
          </button>
          <button class="btn view-btn" (click)="setView('cardview')" aria-label="Switch to grid view"
            matTooltip="Grid View" [ngClass]="{'active': selectedView === 'cardview'}">
            <mat-icon>grid_view</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div id="card-view" *ngIf="selectedView === 'cardview'">
    <div class="sites d-flex flex-wrap justify-content-between gap-3 mt-3">
      <div class="card" *ngFor="let item of filteredData" (click)="openDialog(item)">
        <div class="position-relative">
          <img src="{{item.imageUrl}}" alt="" class="card-img-top">
        </div>
        <div class="icon-group position-absolute top-2 end-0 p-2 d-flex gap-2">
          <button class="btn action-btn" matTooltip="Edit Item"
            [routerLink]="['/business-admin/inventory/inventory-form', item.materialId]">
            <img src="../../../../../../assets/icons/Union.png" alt="edit-btn" class="action-icon">
          </button>
          <button class="btn action-btn me-2" matTooltip="Delete Item" (click)="deleteItem(item.materialId)">
            <img src="../../../../../../assets/icons/Trash can.png" alt="delete-btn" class="action-icon">
          </button>
        </div>
        <div class="card-body">
          <h2>{{item.materialId}}</h2>
          <h2>{{item.price | currency}}</h2>
          <p>{{item.shortDescription}}</p>
        </div>
      </div>

    </div>
  </div>
  <div id="list-view" *ngIf="selectedView === 'listview'">
    <div class="row mb-4" *ngFor="let item of filteredData;  let i = index">
      <div class="col-md-3">
        <div class="d-flex justify-content-between align-items-center h-100 rounded-3">
          <img src="{{item.imageUrl}}" alt="{{item.materialId}}" width="100%" class="rounded-3">
        </div>
      </div>
      <div class="col-md-6">
        <h4>{{item.shortDescription}}</h4>
        <div class="d-flex gap-3 mb-3">
          <span class="mgf-unspc">MFG# {{item.partNumber}}</span>
          <span class="mgf-unspc">UNSPSC# {{item.unspc}}</span>
        </div>
        <div class="d-flex gap-2 mb-1"><strong>Material ID:</strong>
          <div>{{item.materialId}}</div>
        </div>
        <div class="d-flex gap-2 mb-1"><strong>Category:</strong>
          <div>{{item.category}}</div>
        </div>
        <div class="d-flex gap-2 mb-1"><strong>Insight Part Number:</strong>
          <div>{{item.manufacturerPartNumber}}</div>
        </div>
        <div class="d-flex gap-2 mb-1"><strong>Manufacturer Name:</strong>
          <div>{{item.manufacturerPartNumber}}</div>
        </div>
        <div>{{item.longDescription}}</div>
      </div>
      <div class="col-md-3">
        <div class="d-flex flex-column justify-content-between h-100">
          <div>
            <button class="btn action-btn" matTooltip="Edit Item"
              [routerLink]="['/business-admin/inventory/inventory-form', item.materialId]">
              <img src="../../../../../../assets/icons/Union.png" alt="edit-btn" class="action-icon">
            </button>
            <button class="btn action-btn me-2" matTooltip="Delete Item" (click)="deleteItem(item.materialId)">
              <img src="../../../../../../assets/icons/Trash can.png" alt="delete-btn" class="action-icon">
            </button>
          </div>
          <div>
            <h6><strong>Available Quantity:</strong>&nbsp;{{item.QuantityAvailable}}</h6>
            <h3><strong>{{item.price | currency}}</strong></h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>